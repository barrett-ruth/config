#!/bin/sh

[ "$1" ] || exit

file="$1"
shift

ext="${file##*.}"

proj() {
    echo " > $*"
    eval "$*"
}

case "$ext" in
c)
    cc "$* $file" && ./a.out && rm a.out
    ;;
cc | cpp)
    g++ "$* $file" && ./a.out && rm a.out
    ;;
py)
    [ "$VIRTUAL_ENV" ] && py="$VIRTUAL_ENV/bin/python" || py='python'
    eval "$py $* $file"
    ;;
js)
    node "$file"
    ;;
ts)
    ts-node "$file"
    ;;
    # erp | erp_connector)
    #     proj '<ERP COMMAND HERE>'
    #     ;;
esac

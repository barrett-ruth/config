#!/bin/sh

cfg="$HOME/dev/dots"

cd "$cfg" || exit

rmb .git installation misc wip ssh transmission transmission-daemon readme.md .

cp /etc/pacman.conf misc
cp /etc/default/grub misc
cp /etc/xdg/reflector/reflector.conf misc

cp -r "$SCRIPTS" .

test -d ~/.local/share/fonts && cp -r ~/.local/share/fonts .

for e in git sioyek nvim python rg templates tmux X11 yarn zsh; do
    cp -r "$XDG_CONFIG_HOME/$e" .
done

cp "$XDG_DATA_HOME/nvim/spell/spell.encoding.add" nvim

rmb config yarn
yarn global list 2>/dev/null | rg --no-config -o '".*"' | sed 's/"//g' >yarn/pkg
pacman -Q >pkg
rm -rf nvim/undo
rmb .zshrc .zprofile .zaliases zsh
rmb tmux.conf tmux

#!/bin/sh

cfg="$HOME/dev/dots"

cd "$cfg" || exit

rmb .git installation misc wip .

cp /etc/pacman.conf misc
cp /etc/default/grub misc

cp -r "$SCRIPTS" .

cp -r ~/.local/share/fonts .

for e in git sioyek nvim python rg templates tmux transmission-daemon X11 yarn zsh; do
    cp -r "$XDG_CONFIG_HOME/$e" .
done

cp "$XDG_DATA_HOME/nvim/spell/spell.encoding.add" nvim

rm -rf nvim/undo
rmb .zshrc .zprofile .zaliases zsh
rmb tmux.conf tmux
rmb settings.json transmission-daemon
sed -i '/password/d' transmission-daemon/settings.json

[ "$1" ] || exit

git commit -am "$*"
git push

#!/bin/sh

cfg="$HOME/dev/dots"

cd "$cfg" || exit

rmb .git installation old packages misc .

cp /etc/pacman.conf misc

cp -r "$SCRIPTS" .

cp -r ~/.local/share/fonts .

cp -r "$XDG_CONFIG_HOME/templates" .

for e in git nvim python qutebrowser tmux X11 yarn zathura zsh; do
    cp -r "$XDG_CONFIG_HOME/$e" .
done

cp "$XDG_DATA_HOME/nvim/spell.encoding.add" nvim

yarn global list | sed '1d;$d' >packages/yarn
rm -rf nvim/undo
rmb config.py theme.py index.html userscripts greasemonkey quickmarks qutebrowser
rmb .zshrc .zprofile .zaliases zsh
rmb tmux.conf tmux

[ "$1" ] || exit

git add .
git commit -m "$*"
git push

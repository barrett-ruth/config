#!/bin/sh

cd "$HOME"/dev/dots || exit

rmb .git readme.md rg linux fonts kitty X11 .

if [ "$(uname)" = 'Darwin' ]; then
  rm -rf kitty && cp -r "$XDG_CONFIG_HOME"/kitty .
  cp -r "$XDG_CONFIG_HOME"/karabiner/karabiner.json karabiner.json

  brew list >brew.txt
else
  rm -rf X11 && cp -r "$XDG_CONFIG_HOME"/X11 .
  pacman -Q >pacman.txt
fi

cp -r "$SCRIPTS" .

for folder in git npm nvim python tmux sioyek yamllint zsh; do
  cp -r "$XDG_CONFIG_HOME/$folder" .
done

rmb tmux.conf tmux
rmb .zaliases .zsh_profile .zshrc zsh

pnpm -g list >pnpm."$(uname)".txt
pip freeze >pip."$(uname)".txt

#!/bin/sh

mons="$(xrandr | rg --no-config ' connected ' | awk '{ print $1 }')"

one="$(echo "$mons" | head -n 1)"
two="$(echo "$mons" | tail -n 1)"

xrandr --output "$one" --set TearFree on

cmd="xrandr --dpi 192 --output $one --primary --mode 3840x2400 --scale 1x1"

[ "$one" = "$two" ] && xrandr --auto && exit

xrandr --output "$two" --set TearFree on

# Vertically centered monitor above
# cmd="$cmd --pos 0x2160 --output $two --mode 2560x1440 --scale 1.5x1.5 --pos 0x0"

# Leftward monitor
cmd="$cmd --pos 2560x0 --output $two --rotate left --mode 2560x1440 --scale 1.5x1.5 --pos 0x0"

eval "$cmd"
